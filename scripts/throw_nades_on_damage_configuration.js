import * as csScriptGlobals from "cs_script/point_script";
var throw_nades_on_damage_configuration;(()=>{var e={507:function(e,n,o){"use strict";o.d(n,{Es:()=>a});function a(e){for(let[n,o]of Object.entries(e))globalThis[n]=o}}},n={};function o(a){var t=n[a];if(void 0!==t)return t.exports;var h=n[a]={exports:{}};return e[a](h,h.exports,o),h.exports}o.d=(e,n)=>{for(var a in n)o.o(n,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{"use strict";(0,o(507).Es)(csScriptGlobals)})();var a={throwGrenadeWhenShooting:!1,chanceToThrowGrenadeWhenShooting:.1,throwGrenadeWhenDealingDamage:!0,chanceToThrowGrenadeWhenDealingDamage:1,isHeAllowed:!0,isFlashbangAllowed:!0,isSmokeAllowed:!0,isMolotovAllowed:!0,isDecoyAllowed:!1,onlyEquippedNades:!0,projectileSpeed:1300};function t(e,n){var o=Instance.FindEntityByName(n+"_check");o instanceof BaseModelEntity&&o.SetModelScale(+!!e)}function h(e,n){var o=Math.floor(100*n)+"%";Instance.EntFireAtName(e,"setmessage",o,0)}function r(e){return e*Math.PI/180}Instance.OnRoundStart(()=>{t(a.throwGrenadeWhenShooting,"throw_a_nade_when_shooting_button"),t(a.throwGrenadeWhenDealingDamage,"throw_a_nade_when_dealing_damage_button"),t(a.isHeAllowed,"allow_he_button"),t(a.isFlashbangAllowed,"allow_flashbang_button"),t(a.isSmokeAllowed,"allow_smoke_button"),t(a.isMolotovAllowed,"allow_molotov_button"),t(a.isDecoyAllowed,"allow_decoy_button"),t(a.onlyEquippedNades,"only_random_equipped_nades_button"),h("chance_to_throw_nade_when_shooting_text",a.chanceToThrowGrenadeWhenShooting),h("chance_to_throw_nade_when_dealing_damage_text",a.chanceToThrowGrenadeWhenDealingDamage)}),Instance.OnScriptInput("toggle_throw_nade_when_shooting",()=>{Instance.Msg("TOGGLE NADE WHEN SHOOTING"),a.throwGrenadeWhenShooting=!a.throwGrenadeWhenShooting,t(a.throwGrenadeWhenShooting,"throw_a_nade_when_shooting_button")}),Instance.OnScriptInput("toggle_throw_nade_when_dealing_damage",()=>{a.throwGrenadeWhenDealingDamage=!a.throwGrenadeWhenDealingDamage,t(a.throwGrenadeWhenDealingDamage,"throw_a_nade_when_dealing_damage_button")}),Instance.OnScriptInput("throw_a_nade_when_shooting_increment_chance_press",()=>{a.chanceToThrowGrenadeWhenShooting+=.01,a.chanceToThrowGrenadeWhenShooting=Math.max(a.chanceToThrowGrenadeWhenShooting,0),a.chanceToThrowGrenadeWhenShooting=Math.min(a.chanceToThrowGrenadeWhenShooting,1),h("chance_to_throw_nade_when_shooting_text",a.chanceToThrowGrenadeWhenShooting)}),Instance.OnScriptInput("throw_a_nade_when_shooting_decrement_chance_press",()=>{a.chanceToThrowGrenadeWhenShooting-=.01,a.chanceToThrowGrenadeWhenShooting=Math.max(a.chanceToThrowGrenadeWhenShooting,0),a.chanceToThrowGrenadeWhenShooting=Math.min(a.chanceToThrowGrenadeWhenShooting,1),h("chance_to_throw_nade_when_shooting_text",a.chanceToThrowGrenadeWhenShooting)}),Instance.OnScriptInput("throw_a_nade_when_dealing_damage_increment_chance_press",()=>{a.chanceToThrowGrenadeWhenDealingDamage+=.01,a.chanceToThrowGrenadeWhenDealingDamage=Math.max(a.chanceToThrowGrenadeWhenDealingDamage,0),a.chanceToThrowGrenadeWhenDealingDamage=Math.min(a.chanceToThrowGrenadeWhenDealingDamage,1),h("chance_to_throw_nade_when_dealing_damage_text",a.chanceToThrowGrenadeWhenDealingDamage)}),Instance.OnScriptInput("throw_a_nade_when_dealing_damage_decrement_chance_press",()=>{a.chanceToThrowGrenadeWhenDealingDamage-=.01,a.chanceToThrowGrenadeWhenDealingDamage=Math.max(a.chanceToThrowGrenadeWhenDealingDamage,0),a.chanceToThrowGrenadeWhenDealingDamage=Math.min(a.chanceToThrowGrenadeWhenDealingDamage,1),h("chance_to_throw_nade_when_dealing_damage_text",a.chanceToThrowGrenadeWhenDealingDamage)}),Instance.OnScriptInput("toggle_he",()=>{a.isHeAllowed=!a.isHeAllowed,t(a.isHeAllowed,"allow_he_button")}),Instance.OnScriptInput("toggle_flashbang",()=>{a.isFlashbangAllowed=!a.isFlashbangAllowed,t(a.isFlashbangAllowed,"allow_flashbang_button")}),Instance.OnScriptInput("toggle_smoke",()=>{a.isSmokeAllowed=!a.isSmokeAllowed,t(a.isSmokeAllowed,"allow_smoke_button")}),Instance.OnScriptInput("toggle_molotov",()=>{a.isMolotovAllowed=!a.isMolotovAllowed,t(a.isMolotovAllowed,"allow_molotov_button")}),Instance.OnScriptInput("toggle_decoy",()=>{a.isDecoyAllowed=!a.isDecoyAllowed,t(a.isDecoyAllowed,"allow_decoy_button")}),Instance.OnScriptInput("toggle_only_equipped_nades",()=>{a.onlyEquippedNades=!a.onlyEquippedNades,t(a.onlyEquippedNades,"only_random_equipped_nades_button")}),Instance.OnGunFire(e=>{var n,o;let t,h,l=e.weapon.GetOwner();if(!l||!l.GetOriginalPlayerController())return;let i=Instance.FindEntityByName("molotov_template");if(!i)return void Instance.Msg("molotov_template not found");if(!(i instanceof PointTemplate))return void Instance.Msg("molotov_template is not of type point template");let c=l.GetEyePosition(),_=l.GetEyeAngles(),d=(t=Math.cos(r(_.pitch)),h=Math.sin(r(_.pitch)),n={x:t*Math.cos(r(_.yaw)),y:t*Math.sin(r(_.yaw)),z:-h},o=a.projectileSpeed,{x:n.x*o,y:n.y*o,z:n.z*o}),g=i.ForceSpawn(c,_);if(!g||0===g.length)return;let s=g[0];s.SetOwner(l),s.Teleport({position:c,angles:_,velocity:d}),Instance.EntFireAtTarget({target:s,input:"InitializeSpawnFromWorld",activator:l,caller:l,delay:0}),Instance.EntFireAtTarget({target:s,input:"kill",activator:l,caller:l,delay:3})}),Instance.OnScriptInput("player_hurt",e=>{Instance.Msg("Player hurt event")}),Instance.OnScriptReload({before:()=>({configuration:a}),after:e=>{e&&void 0!==e.configuration&&(a=e.configuration)}}),throw_nades_on_damage_configuration={}})();